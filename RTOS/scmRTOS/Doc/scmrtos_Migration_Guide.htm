<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="en" dir="ltr">
<head>
<title>Migration Guide - scmRTOS</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="MediaWiki 1.16.3" />
<link rel="shortcut icon" href="/files/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/wiki/opensearch_desc.php" title="scmRTOS (en)" />
<link rel="alternate" type="application/atom+xml" title="scmRTOS Atom feed" href="/wiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="/wiki/skins/common/shared.css?270" media="screen" />
<link rel="stylesheet" href="/wiki/skins/common/commonPrint.css?270" media="print" />
<link rel="stylesheet" href="/wiki/skins/monobook/main.css?270" media="screen" />
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/wiki/skins/monobook/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/wiki/skins/monobook/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/wiki/skins/monobook/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/wiki/skins/monobook/IE70Fixes.css?270" media="screen" /><![endif]-->
<link rel="stylesheet" href="/wiki/index.php?title=MediaWiki:Common.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="/wiki/index.php?title=MediaWiki:Print.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" media="print" />
<link rel="stylesheet" href="/wiki/index.php?title=MediaWiki:Monobook.css&amp;usemsgcache=yes&amp;ctype=text%2Fcss&amp;smaxage=18000&amp;action=raw&amp;maxage=18000" />
<link rel="stylesheet" href="/wiki/index.php?title=-&amp;action=raw&amp;maxage=18000&amp;gen=css" />
<script>
var skin="monobook",
stylepath="/wiki/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/$1",
wgScriptPath="/wiki",
wgScriptExtension=".php",
wgScript="/wiki/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="http://scmrtos.sourceforge.net",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="Migration_Guide",
wgTitle="Migration Guide",
wgAction="view",
wgArticleId=87,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=425,
wgVersion="1.16.3",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="ScmRTOS",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "scmRTOS", "5": "scmRTOS talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "scmrtos": 4, "scmrtos_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "image": 6, "image_talk": 7},
wgSiteName="scmRTOS",
wgCategories=[],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script><script src="/wiki/skins/common/wikibits.js?270"></script>
<script src="/wiki/skins/common/ajax.js?270"></script>
<script src="/wiki/index.php?title=-&amp;action=raw&amp;gen=js&amp;useskin=monobook&amp;270"></script>

</head>
<body class="mediawiki ltr ns-0 ns-subject page-Migration_Guide skin-monobook">
<div id="globalWrapper">
<div id="column-content"><div id="content" >
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">Migration Guide</h1>
	<div id="bodyContent">
		<h3 id="siteSub">From scmRTOS</h3>
		<div id="contentSub"></div>
		<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<style text="text/css" media="screen"><!-- .terminologydef {border-bottom: 1px dashed green;} --></style><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="charset=utf-8"></head>
<body>
<h2> <span class="mw-headline" id="Migration_from_v3_to_v4"> Migration from v3 to v4 </span>
</h2>
<p>There were several features and changes made in v4 that had brought some incompatibility between v3 and v4. Starting from v4, the following coding rules used for scmRTOS source code:
</p>
<ul>
<li> Indent is 4 characters.
</li>
<li> Open bracket of the code block <code>'{'</code> begins on blank line as the first character aligned with the first character (i.e. under it) of operator keyword or function qualifier.
</li>
<li> Function names looks <code>like_this()</code>.
</li>
<li> Variable names looks <code>LikeThis</code>.
</li>
<li> User type names looks <code>TLikeThis</code>.
</li>
<li> Aliases looks <code>like_this_t</code>.
</li>
</ul>
<p>This causes incompatibility with the previous software version. The user has to rename appropriate functions and type names in his code. To simplify the migration process the special header file is offered: <code>scmRTOS_310_compat.h</code>. The file contains some aliases for old type names and a macro <code>scmRTOS_OBSOLETE_NAMES</code>. The macro turns on compatibility mode that allows usage of the most of old names (except process's <code>exec</code> function names). In compatibility mode two types of inline adapter functions defined:
</p>
<ul>
<li> For user code: from old-style names to new-style names (like from <code>Sleep()</code> to <code>sleep()</code>).
</li>
<li> For OS code:   from new-style names to old-style names (like from <code>system_timer_user_hook()</code> to <code>SystemTimerUserHook()</code>)
</li>
</ul>
<p>It should be noted that this <b>compatibility mode is the temporary solution and will be removed in the next release</b>.
</p>
<p>To migrate from v3 to v4 version the user has to:
</p>
<ul>
<li> Rename all mentioned above names according to the new naming conventions.
</li>
<li> Add all necessary macros to the project configuration file - for example, <code>scmRTOS_DEBUG_ENABLE</code> for debug features.
</li>
<li> Define type aliases for timeout and tick count objects (<code>timeout_t</code>, <code>tick_count_t</code>), see release samples for details.
</li>
</ul>
<p>Also, the user can use simplified "two-stage" migration method with enabling of compatibility mode. In this case the following actions have to be carried out: 
</p>
<ul>
<li> Include <code>scmRTOS_310_compat.h</code><span> in project <span title="RTOS: Real Time Operating System;" class="terminologydef" style="cursor:help">RTOS</span> configuration file (</span><code>scmRTOS_CONFIG.h</code>).
</li>
<li> Rename root process functions Exec to exec.
</li>
</ul>
<p><br><span>
See sample #3-Channel of AVR/<span title="GCC: GNU Compiler Collection" class="terminologydef" style="cursor:help">GCC</span>/MEGA (or AVR/IAR/MEGA) for example of using scmRTOS v3.xx oriented code with scmRTOS v4.00 in compatibility mode.
</span></p>
</body>
</html>

<!-- 
NewPP limit report
Preprocessor node count: 2/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key s181958_wikidb2:pcache:idhash:87-0!1!0!!en!2!edit=0 and timestamp 20120529115241 -->
<div class="printfooter">
Retrieved from "<a href="http://scmrtos.sourceforge.net/Migration_Guide">http://scmrtos.sourceforge.net/Migration_Guide</a>"</div>
		<div id='catlinks' class='catlinks catlinks-allhidden'></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				 <li id="ca-nstab-main" class="selected"><a href="/Migration_Guide" title="View the content page [c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="/wiki/index.php?title=Talk:Migration_Guide&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="/wiki/index.php?title=Migration_Guide&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="/wiki/index.php?title=Migration_Guide&amp;action=history" title="Past revisions of this page [h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="/wiki/index.php?title=Special:UserLogin&amp;returnto=Migration_Guide" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(/files/scmrtos.png);" href="/ScmRTOS" title="Visit the main page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class='generated-sidebar portlet' id='p-navigation'>
		<h5>Navigation</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Home"><a href="/ScmRTOS">Home</a></li>
				<li id="n-Ports"><a href="/Ports">Ports</a></li>
				<li id="n-Releases"><a href="/Releases">Releases</a></li>
				<li id="n-Tools"><a href="/Tools">Tools</a></li>
				<li id="n-Documentation"><a href="/Documentation">Documentation</a></li>
				<li id="n-recentchanges"><a href="/Special:RecentChanges" title="The list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
				<li id="n-currentevents"><a href="/scmRTOS:Current_events" title="Find background information on current events">Current events</a></li>
				<li id="n-Team"><a href="/Team">Team</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/wiki/index.php" id="searchform">
				<input type='hidden' name="title" value="Special:Search"/>
				<input id="searchInput" title="Search scmRTOS" accesskey="f" type="search" name="search" />
				<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Go" title="Go to a page with this exact name if exists" />&nbsp;
				<input type='submit' name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" />
			</form>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-support'>
		<h5>support</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Browse-Subversion-repository"><a href="http://scmrtos.svn.sourceforge.net/viewvc/scmrtos/">Browse Subversion repository</a></li>
				<li id="n-Downloads"><a href="http://sourceforge.net/projects/scmrtos/files/">Downloads</a></li>
			</ul>
		</div>
	</div>
	<div class='generated-sidebar portlet' id='p-development'>
		<h5>development</h5>
		<div class='pBody'>
			<ul>
				<li id="n-Bug-tracker"><a href="http://sourceforge.net/tracker/?func=browse&amp;group_id=181958&amp;atid=899286">Bug tracker</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="/Special:WhatLinksHere/Migration_Guide" title="List of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="/Special:RecentChangesLinked/Migration_Guide" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="/Special:SpecialPages" title="List of all special pages [q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="/wiki/index.php?title=Migration_Guide&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="/wiki/index.php?title=Migration_Guide&amp;oldid=425" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="/wiki/skins/common/images/poweredby_mediawiki_88x31.png" height="31" width="88" alt="Powered by MediaWiki" /></a>&nbsp;<a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=181958&amp;type=10" alt="SourceForge.net Logo" /></a></div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 4 April 2012, at 08:27.</li>
		<li id="viewcount">This page has been accessed 201 times.</li>
		<li id="privacy"><a href="/scmRTOS:Privacy_policy" title="scmRTOS:Privacy policy">Copyright Â© scmRTOS Team 2006-2011</a></li>
		<li id="about"><a href="/scmRTOS:About" title="scmRTOS:About">About scmRTOS</a></li>
	</ul>
</div>
</div>

<script>if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.354 secs. --></body></html>
